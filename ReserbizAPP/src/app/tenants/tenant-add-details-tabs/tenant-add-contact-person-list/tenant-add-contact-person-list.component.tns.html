<ns-loader-layout [busy]="isBusy">
  <StackLayout width="100%" height="100%" class="page-container">
    <RadListView
      width="100%"
      height="100%"
      #contactPersonView
      class="contact-person-list-container"
      [items]="contactPersons"
      selectionBehavior="Press"
      (itemSelected)="goToEditDetailsFromMainItem($event)"
    >
      <ng-template tkListItemTemplate let-contactPerson="item">
        <GridLayout
          class="contact-person-detail list-item-template"
          rows="*, *"
          columns="70, *, 60"
        >
          <!-- Template tenant item photo placeholder -->
          <StackLayout row="0" col="0" rowSpan="2" class="m-r-10">
            <StackLayout
              class="contact-person-detail__image-container"
              verticalAlignment="middle"
              [backgroundColor]="contactPerson.photoBackgroundColor"
            >
              <label
                class="image"
                horizontalAlignment="center"
                [text]="contactPerson.nameInitials"
              ></label>
            </StackLayout>
          </StackLayout>

          <StackLayout
            class="contact-person-detail__fullname"
            verticalAlignment="middle"
            row="0"
            col="1"
          >
            <label class="fullname" [text]="contactPerson.fullName"></label>
          </StackLayout>

          <StackLayout row="1" col="1">
            <label
              class="username"
              [text]="contactPerson.contactNumber"
            ></label>
          </StackLayout>

          <StackLayout row="0" col="2" rowSpan="2">
            <button
              class="fa fa-solid contact-person-detail__option"
              text="&#xf2ed;"
              (tap)="deleteSelectedContactPerson(contactPerson.id)"
            ></button>
          </StackLayout>
        </GridLayout>
      </ng-template>
    </RadListView>
  </StackLayout>

  <ns-floating-button
    (tapButton)="goToAddContactPesonPage()"
    [icon]="'&#xf234;'"
  ></ns-floating-button>
</ns-loader-layout>
